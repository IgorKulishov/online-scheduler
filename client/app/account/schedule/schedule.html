<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div class="row">
  <div class="col-sm-12">
	<div ng-if="token == '0'">
   	    <ol>
	        <a class="btn-date" href="#/">Login</a>
	        <a class="btn-date" href="#/Users">Register</a>
	    </ol>
	    <h1>Thank you!</h1>
	    <img src="code/img/bye.jpg">
	    <h5>Please click 'Login' to login the system.</h5>
	</div>

    <!--<div ng-if="token && token != '0'">-->
    <div>
	    <nav class="navbar navbar-default">	
	        <div class="container-fluid">

                <!--<h3>Schedule</h3>
                <div ng-init="type" class="ins-date-form">
	                <datepicker date-format="dd MM yyyy">
				        <input ng-model="date" type="text" style="width:108px" ng-change="ctrl.chooseDate(date)"/><button><i class="glyphicon glyphicon-calendar"></i></button>
				    </datepicker>-->

    <div class="row">
        <div class="col-md-3">
            <p class="input-group">
              <input type="text" class="form-control" datepicker-popup="dd MMMM yyyy" ng-model="date" is-open="status" max-date="'22 6 2020'" ng-required="true" close-text="Close" ng-change="chooseDate(date)"/>
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </p>
        </div>
    </div>
	   		    </div>

        </nav>

	        <div class="row">

	            <div class="col-md-1 col2">
	                <h4>Username</h4>
	            </div>

	            <div class="col-md-1 col3">
	                <h4>Start</h4>
	            </div>

	            <div class="col-md-1 col7">
	                <h4>Finish</h4>
	            </div>

	            <div class="col-md-1 col4">
	                <h4>Task</h4>
	            </div>

	        </div>
	        <div class="row" ng-repeat="taskRecord in ctrl.taskListArray | orderBy:'username'">
	            
	            <div class="col-md-1 col2">
	            <!--list of Tasks from taskListArray in JSON-->
		            <div ng-if="!taskRecord.isEditing && !taskRecord.existName" class="btn-group" dropdown dropdown-append-to-body>
		            <!--			            <button type="button" class="btn btn-name dropdown-toggle" dropdown-toggle> -->

			            <button type="button" class="btn" dropdown-toggle>
			                {{taskRecord.username}}
			            <span class="caret"></span>
			            </button>
			            <div>
			                <select class="dropdown-menu" role="menu">
				                <option><a value="delete">Delete</a></option>
					            <option><a value="edit">Edit</a></option>
					        </select>
					    </div>	
		            </div>

		            <div ng-if="taskRecord.isEditing">
		                <input ng-model="taskRecord.username"/>
		            </div>
	            </div>   

	            <div class="col-md-1 col3">
	            <!--list of Tasks from taskListArray in JSON-->
	            
		            <div ng-if="!taskRecord.isEditing">
		                <h5>{{taskRecord.start}}</h5>
		            </div>

		            <div ng-if="taskRecord.isEditing">
		                <input ng-model="taskRecord.start"/>
		            </div>

	            </div>

		        <div class="col-md-1 col6">
	            <!--list of Tasks from taskListArray in JSON-->
	            
		            <div ng-if="!taskRecord.isEditing">
		                <h5>{{taskRecord.finish}}</h5>
		            </div>

		            <div ng-if="taskRecord.isEditing">
		                <input ng-model="taskRecord.finish"/>
		            </div>
	            </div>

	            <div class="col-md-1 col7">
	            <!--list of Tasks from taskListArray in JSON-->
	            
		            <div ng-if="!taskRecord.isEditing">
		                <h5>{{taskRecord.task}}</h5>
		            </div>

		            <div ng-if="taskRecord.isEditing">
		                <input ng-model="taskRecord.task"/>
		            </div>

	            </div>
          
	            <!--print out 'Type's of each Task from taskListArray from controller-->
	            <div class="col-md-1 col4">
                 <!--if "taskRecord.isEditing == false" just read data from Aray-->
		            <div ng-if="!taskRecord.isEditing">
		                <h5>{{taskRecord.type}}</h5>
		            </div>
	            </div>
				<!--DELETE button-->
				<div class="col-md-1 col6">
				    <button type="button" class="btn btn-danger" ng-click="ctrl.delete(taskRecord._id)">Delete</button>
				</div>				
			    <!--Edit button-->
				<div class="col-md-1 col7" ng-if="!taskRecord.isEditing">
				    <button type="button" class="btn btn-primary" ng-click="ctrl.edit(taskRecord._id)">Edit</button>
				</div>
                <!--Save button-->
				<div class="col-md-1 col7" ng-if="taskRecord.isEditing">
				    <button type="button" class="btn" ng-click="ctrl.save(taskRecord._id)">Save</button>
				</div>
		    </div>
		    <div class="text-warning">
		    	<h5>{{ctrl.message}}</h5>
		    </div>
		    <nav class="navbar navbar-default">
		        <div class="container-fluid">
		            <div class="navbar-header">
	                    <div class="row">
	                        <div class="col-md-2 col1">
	                            <h4>Username</h4>
	                            <input ng-model="ctrl.newTask.username" placeholder="username" style="width:161px">
	                        </div>
	                        <div class="col-md-1 col2">
	                            <h4>Start</h4>
		                            <input ng-model="ctrl.newTask.start" placeholder="Start time" style="width:80px">
	                        </div>
	                        <div class="col-md-1 col3">
	                            <h4>Finish</h4>
	                            <input ng-model="ctrl.newTask.finish"  placeholder="Finish time" style="width:80px">
	                        </div>
	                        <div class="col-md-1 col3">
	                            <h4>Task</h4>
	                            <input ng-model="ctrl.newTask.task"placeholder="Task.." style="width:200px">
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </nav>
	        <input type="button" ng-click="ctrl.addTask(ctrl.newTask)" value="Add" class="add-button">
	    </div>
	</div>
	</div>
</div>

<footer class="footer">
  <div class="container">
      <p>Angular Fullstack v2.0.13 | Online scheduler v 0.8
        <!--<a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
         <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a>--></p>
  </div>
</footer>